html
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°ç¾…ç›¤ï½œæ•™è‚²è¡Œæ”¿å°èˆª</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-color: #D8DCDD;
            --line-color: #C8C0BE;
            --accent-color: #F6D494;
        }
        body { 
            background-color: var(--bg-color); 
            font-family: 'Noto Sans TC', sans-serif; 
            overflow-x: hidden;
        }
        .hard-shadow { 
            box-shadow: 6px 6px 0px var(--line-color); 
            border: 2px solid var(--line-color); 
        }
        .font-black { font-weight: 900; }
        .page { display: none; }
        .page.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* è‡ªå®šç¾©åœ“é«”æ•ˆæœ */
        .rounded-text { font-weight: 400; border-radius: 20px; }
    </style>
</head>
<body class="pb-20">

    <!-- [1] é¦–é  (Home) -->
    <div id="home" class="page active">
        <header class="p-8 text-center">
            <h1 class="text-4xl font-black text-gray-700 tracking-tighter">å°ç¾…ç›¤</h1>
            <p class="text-[10px] text-gray-500 tracking-[0.3em] mt-2 uppercase">Cram School Navigator</p>
        </header>

        <div class="grid grid-cols-2 gap-4 px-6">
            <!-- æ—¥ç¨‹è¡¨ (æœ€å¤§) -->
            <div class="col-span-2 bg-[#F6D494] p-6 rounded-3xl hard-shadow" onclick="showPage('daily')">
                <div class="flex justify-between items-center">
                    <h2 class="font-black text-xl italic">â— ç¾åœ¨æ—¥ç¨‹</h2>
                    <span class="text-xs font-bold border-b border-black">LIVE</span>
                </div>
                <div id="live-task" class="mt-4">
                    <p class="text-2xl font-black">è¼‰å…¥ä¸­...</p>
                </div>
            </div>

            <!-- å…¶ä»–å››æ ¼ -->
            <div class="bg-white p-5 rounded-3xl hard-shadow aspect-square flex flex-col justify-between" onclick="showPage('yearly')">
                <h2 class="font-black text-lg">å¹´åº¦<br>è¡Œç¨‹</h2>
                <div class="text-[10px] text-gray-400">YEARLY</div>
            </div>
            <div class="bg-white p-5 rounded-3xl hard-shadow aspect-square flex flex-col justify-between" onclick="showPage('crisis')">
                <h2 class="font-black text-lg">å±æ©Ÿ<br>è™•ç†</h2>
                <div class="text-[10px] text-gray-400">CRISIS HUB</div>
            </div>
            <div class="bg-white p-5 rounded-3xl hard-shadow aspect-square flex flex-col justify-between" onclick="showPage('resources')">
                <h2 class="font-black text-lg">è³‡æº<br>å¤–è¯</h2>
                <div class="text-[10px] text-gray-400">RESOURCES</div>
            </div>
            <div class="bg-white p-5 rounded-3xl hard-shadow aspect-square flex flex-col justify-between" onclick="showPage('parents')">
                <h2 class="font-black text-lg">ç´…ç¶ ç‡ˆ<br>æª”æ¡ˆ</h2>
                <div class="flex gap-1">
                    <div class="w-3 h-3 bg-red-400 rounded-full border border-gray-100"></div>
                    <div class="w-3 h-3 bg-yellow-400 rounded-full border border-gray-100"></div>
                    <div class="w-3 h-3 bg-green-400 rounded-full border border-gray-100"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- [2] å±æ©Ÿè™•ç†é é¢ -->
    <div id="crisis" class="page px-6 pt-10">
        <button onclick="showPage('home')" class="mb-6 font-bold">â† è¿”å›é¦–é </button>
        <h1 class="text-3xl font-black mb-8">å±æ©Ÿè™•ç†ç·´ç¿’</h1>
        <div class="space-y-6">
            <div class="bg-white p-6 rounded-2xl hard-shadow" onclick="alert('åŠŸèƒ½é–‹ç™¼ä¸­ï¼šæŸ¥è©¢ç¯„ä¾‹')">
                <h3 class="font-black text-xl">â‘  æŸ¥è©¢å¦‚ä½•å›è¦†å®¶é•·</h3>
                <p class="text-sm text-gray-500 mt-2">æ ¹æ“šåˆ†é¡ï¼Œå°ç—‡ä¸‹è—¥</p>
            </div>
            <div class="bg-[#F6D494] p-6 rounded-2xl hard-shadow" onclick="startCrisisGame()">
                <h3 class="font-black text-xl">â‘¡ æé¾å®¶é•·æƒ…å¢ƒç·´ç¿’</h3>
                <p class="text-sm text-gray-700 mt-2">10ç§’æŒ‘æˆ°ï¼šæœ€å°ˆæ¥­çš„å›æ‡‰</p>
            </div>
            <div class="bg-white p-6 rounded-2xl hard-shadow" onclick="showPage('help')">
                <h3 class="font-black text-xl text-red-500">â‘¢ å°‹æ±‚çœŸäººå”åŠ©</h3>
                <p class="text-sm text-gray-500 mt-2">è¯ç¹« Jackson è€å¸«</p>
            </div>
        </div>
    </div>

    <!-- [3] çœŸäººå”åŠ©è¡¨å–®é é¢ -->
    <div id="help" class="page px-6 pt-10">
        <button onclick="showPage('crisis')" class="mb-6 font-bold">â† è¿”å›</button>
        <h1 class="text-3xl font-black mb-4">å°‹æ±‚å”åŠ©</h1>
        <div class="bg-white p-6 rounded-2xl hard-shadow space-y-4">
            <input type="email" id="help-email" placeholder="æ‚¨çš„é›»å­ä¿¡ç®±" class="w-full p-3 border rounded-lg bg-gray-50">
            <textarea id="help-msg" rows="5" placeholder="è«‹æè¿°æ‚¨é‡åˆ°çš„å•é¡Œ..." class="w-full p-3 border rounded-lg bg-gray-50"></textarea>
            <p class="text-xs text-gray-400">æ‰€æœ‰è³‡æ–™å°‡ç™¼é€è‡³ï¼šjacksonwang717g7@gmail.com</p>
            <button onclick="submitHelp()" class="w-full py-4 bg-[#F6D494] font-black rounded-xl">é€å‡ºç”³è«‹</button>
        </div>
    </div>

    <!-- [4] ç´…ç¶ ç‡ˆæª”æ¡ˆé é¢ -->
    <div id="parents" class="page px-6 pt-10">
        <button onclick="showPage('home')" class="mb-6 font-bold">â† è¿”å›é¦–é </button>
        <h1 class="text-3xl font-black mb-4">ç´…ç¶ ç‡ˆæª”æ¡ˆ</h1>
        <div class="flex gap-2 mb-6 overflow-x-auto pb-2">
            <button class="px-4 py-2 bg-red-400 text-white rounded-full text-xs font-bold hard-shadow">ğŸ”´ ç´…ç‡ˆ(5)</button>
            <button class="px-4 py-2 bg-yellow-400 text-white rounded-full text-xs font-bold hard-shadow">ğŸŸ¡ é»ƒç‡ˆ(12)</button>
            <button class="px-4 py-2 bg-green-400 text-white rounded-full text-xs font-bold hard-shadow">ğŸŸ¢ ç¶ ç‡ˆ(30)</button>
        </div>
        <div class="space-y-4" id="parent-list">
            <!-- é è¨­ç¯„ä¾‹ -->
            <div class="bg-white p-4 rounded-xl border-l-8 border-red-500 hard-shadow">
                <h4 class="font-black">ç‹å°æ˜å®¶é•·</h4>
                <p class="text-xs text-gray-500 mt-1">åœ°é›·ï¼šå°æ”¶è²»æ—¥æœŸæ¥µåº¦æ•æ„Ÿ</p>
                <p class="text-[10px] mt-2 bg-gray-100 p-2 rounded">ç­–ç•¥ï¼šææ—©ä¸€é€±çµ¦äºˆæ”¶è²»å–®ï¼Œå£æ°£æº«å’Œä½†å …æŒåˆ¶åº¦ã€‚</p>
            </div>
        </div>
    </div>

    <!-- åº•éƒ¨å…¨åŸŸæœå°‹ (åƒ…é¦–é é¡¯ç¤º) -->
    <div id="bottom-bar" class="fixed bottom-0 left-0 w-full bg-[#D8DCDD]/90 backdrop-blur-md pb-6 pt-2">
        <div class="flex items-center bg-white mx-6 p-3 rounded-full hard-shadow mb-4">
            <span class="mr-2">ğŸ”</span>
            <input type="text" placeholder="æœå°‹å®¶é•·ã€å­¸ç”Ÿæˆ– SOP..." class="bg-transparent outline-none w-full text-sm">
            <span>ğŸ“·</span>
        </div>
    </div>

    <!-- Firebase & Logic Scripts -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // Firebase é‡‘é‘°
        const firebaseConfig = {
            apiKey: "AIzaSyCnVZJgRZc7fid3FZCZeGXchFBrTywTgF8",
            authDomain: "cram-school-app-86ef7.firebaseapp.com",
            projectId: "cram-school-app-86ef7",
            storageBucket: "cram-school-app-86ef7.firebasestorage.app",
            messagingSenderId: "169123409521",
            appId: "1:169123409521:web:96b8bbb8ab31c94c64b5d0",
            measurementId: "G-BE0M81JC1T"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // [é é¢åˆ‡æ›é‚è¼¯]
        window.showPage = function(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            
            // åªæœ‰é¦–é é¡¯ç¤ºåº•éƒ¨æœå°‹åˆ—
            document.getElementById('bottom-bar').style.display = (pageId === 'home') ? 'block' : 'none';
        };

        // [å³æ™‚æ—¥ç¨‹é‚è¼¯]
        function updateLiveTask() {
            const hour = new Date().getHours();
            let task = "ç›®å‰ç„¡å›ºå®šè¡Œç¨‹";
            let desc = "å¯æ•´ç†è¡Œæ”¿è³‡æ–™";

            if(hour >= 16 && hour < 17) { task = "16:30 æ¥è»Šèˆ‡é»å"; desc = "å´‘å±±åœ‹å°é–€å£"; }
            else if(hour >= 17 && hour < 19) { task = "è‹±æ–‡èª²è¼”èˆ‡æ‰¹æ”¹"; desc = "ç¢ºèªä½œæ¥­é€²åº¦"; }
            else if(hour >= 19) { task = "å®¶é•·æ¥é€èˆ‡æ«ƒæª¯"; desc = "ç¬‘å®¹è¿æ¥ï¼Œå°ˆæ¥­å›å ±"; }

            document.getElementById('live-task').innerHTML = `
                <p class="text-2xl font-black italic tracking-tighter">${task}</p>
                <p class="text-xs mt-1 font-bold opacity-70">${desc}</p>
            `;
        }
        updateLiveTask();
        setInterval(updateLiveTask, 60000);

        // [çœŸäººå”åŠ©æäº¤]
        window.submitHelp = async function() {
            const email = document.getElementById('help-email').value;
            const msg = document.getElementById('help-msg').value;
            if(!email || !msg) return alert('è«‹å¡«å¯«å®Œæ•´è³‡è¨Š');

            try {
                await addDoc(collection(db, "help_requests"), {
                    email: email,
                    message: msg,
                    timestamp: new Date()
                });
                alert('å·²æ”¶åˆ°æ‚¨çš„è«‹æ±‚ï¼ŒJackson è€å¸«æœƒç›¡å¿«è™•ç†ï¼');
                showPage('home');
            } catch (e) {
                alert('å‚³é€å¤±æ•—ï¼š' + e.message);
            }
        };

        // [æƒ…å¢ƒéŠæˆ²é ç•™]
        window.startCrisisGame = function() {
            alert('éŠæˆ²è¼‰å…¥ä¸­...\næƒ…å¢ƒï¼šå®¶é•·è¦æ±‚é€€è²»ä½†è¶…éæœŸé™ã€‚\nè¨ˆæ™‚ 10 ç§’æŒ‘æˆ°ï¼');
            // æ­¤è™•å¯æ“´å……æƒ…å¢ƒé‚è¼¯
        }
    </script>
</body>
</html>
